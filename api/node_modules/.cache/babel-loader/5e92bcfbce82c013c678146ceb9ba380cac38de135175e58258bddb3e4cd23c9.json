{"ast":null,"code":"var express=require('express');var server=express();var morgan=require('morgan');var terminalKiller=require('../Routes/server/terminalkiller.js');var users=require('./Routes/server/users.js');var posts=require('./Routes/apps/posts.js');server.use(function(req,res,next){console.log(req.headers.origin);// const corsList = [\n//     'http://localhost:3000',\n//     'http://localhost:3001',\n//     'http://localhost:3002',\n//     'http://192.168.100.16:3000'\n// ];\nvar corsList=['https://tv.laruinarecords.cl','https://laruinarecords.cl'];if(corsList.includes(req.headers.origin)){res.header('Access-Control-Allow-Origin',req.headers.origin);res.header('Access-Control-Allow-Credentials','true');res.header('Access-Control-Allow-Headers','Origin, X-Requested, Content-Type, Accept');res.header('Access-Control-Allow-Methods','GET, POST, OPTIONS, PUT, DELETE');next();}// else{\n//     res.header('Access-Control-Allow-Origin', ('*'));\n//     res.header('Access-Control-Allow-Credentials', 'true');\n//     res.header('Access-Control-Allow-Headers', 'Origin, X-Requested, Content-Type, Accept');\n//     res.header('Access-Control-Allow-Methods', 'GET, POST, OPTIONS, PUT, DELETE');\n//     next();\n// }\n});server.use(morgan('dev'));server.use(express.json());server.use('/terminalkiller',terminalKiller);server.use('/users',users);server.use('/posts',posts);server.listen(3001,function(){return console.log('running on port 3001');});","map":{"version":3,"names":["express","require","server","morgan","terminalKiller","users","posts","use","req","res","next","console","log","headers","origin","corsList","includes","header","json","listen"],"sources":["C:/Users/Autor/Desktop/LaRuinaTV/api/src/index.js"],"sourcesContent":["const express = require('express')\r\nconst server = express()\r\nconst morgan = require('morgan')\r\nconst terminalKiller = require('../Routes/server/terminalkiller.js')\r\nconst users = require('./Routes/server/users.js')\r\nconst posts = require('./Routes/apps/posts.js')\r\n\r\nserver.use((req, res, next)=>{\r\n    console.log(req.headers.origin)\r\n    // const corsList = [\r\n    //     'http://localhost:3000',\r\n    //     'http://localhost:3001',\r\n    //     'http://localhost:3002',\r\n    //     'http://192.168.100.16:3000'\r\n    // ];\r\n    const corsList = [\r\n        'https://tv.laruinarecords.cl',\r\n        'https://laruinarecords.cl'\r\n    ];\r\n\r\n    if(corsList.includes(req.headers.origin)){   \r\n        res.header('Access-Control-Allow-Origin', (req.headers.origin));\r\n        res.header('Access-Control-Allow-Credentials', 'true');\r\n        res.header('Access-Control-Allow-Headers', 'Origin, X-Requested, Content-Type, Accept');\r\n        res.header('Access-Control-Allow-Methods', 'GET, POST, OPTIONS, PUT, DELETE');\r\n        next();\r\n    }\r\n    // else{\r\n    //     res.header('Access-Control-Allow-Origin', ('*'));\r\n    //     res.header('Access-Control-Allow-Credentials', 'true');\r\n    //     res.header('Access-Control-Allow-Headers', 'Origin, X-Requested, Content-Type, Accept');\r\n    //     res.header('Access-Control-Allow-Methods', 'GET, POST, OPTIONS, PUT, DELETE');\r\n    //     next();\r\n    // }\r\n});\r\n\r\nserver.use(morgan('dev'))\r\nserver.use(express.json())\r\nserver.use('/terminalkiller', terminalKiller)\r\nserver.use('/users', users)\r\nserver.use('/posts', posts)\r\n\r\nserver.listen(3001, () => console.log('running on port 3001'))"],"mappings":"AAAA,GAAMA,QAAO,CAAGC,OAAO,CAAC,SAAS,CAAC,CAClC,GAAMC,OAAM,CAAGF,OAAO,EAAE,CACxB,GAAMG,OAAM,CAAGF,OAAO,CAAC,QAAQ,CAAC,CAChC,GAAMG,eAAc,CAAGH,OAAO,CAAC,oCAAoC,CAAC,CACpE,GAAMI,MAAK,CAAGJ,OAAO,CAAC,0BAA0B,CAAC,CACjD,GAAMK,MAAK,CAAGL,OAAO,CAAC,wBAAwB,CAAC,CAE/CC,MAAM,CAACK,GAAG,CAAC,SAACC,GAAG,CAAEC,GAAG,CAAEC,IAAI,CAAG,CACzBC,OAAO,CAACC,GAAG,CAACJ,GAAG,CAACK,OAAO,CAACC,MAAM,CAAC,CAC/B;AACA;AACA;AACA;AACA;AACA;AACA,GAAMC,SAAQ,CAAG,CACb,8BAA8B,CAC9B,2BAA2B,CAC9B,CAED,GAAGA,QAAQ,CAACC,QAAQ,CAACR,GAAG,CAACK,OAAO,CAACC,MAAM,CAAC,CAAC,CACrCL,GAAG,CAACQ,MAAM,CAAC,6BAA6B,CAAGT,GAAG,CAACK,OAAO,CAACC,MAAM,CAAE,CAC/DL,GAAG,CAACQ,MAAM,CAAC,kCAAkC,CAAE,MAAM,CAAC,CACtDR,GAAG,CAACQ,MAAM,CAAC,8BAA8B,CAAE,2CAA2C,CAAC,CACvFR,GAAG,CAACQ,MAAM,CAAC,8BAA8B,CAAE,iCAAiC,CAAC,CAC7EP,IAAI,EAAE,CACV,CACA;AACA;AACA;AACA;AACA;AACA;AACA;AACJ,CAAC,CAAC,CAEFR,MAAM,CAACK,GAAG,CAACJ,MAAM,CAAC,KAAK,CAAC,CAAC,CACzBD,MAAM,CAACK,GAAG,CAACP,OAAO,CAACkB,IAAI,EAAE,CAAC,CAC1BhB,MAAM,CAACK,GAAG,CAAC,iBAAiB,CAAEH,cAAc,CAAC,CAC7CF,MAAM,CAACK,GAAG,CAAC,QAAQ,CAAEF,KAAK,CAAC,CAC3BH,MAAM,CAACK,GAAG,CAAC,QAAQ,CAAED,KAAK,CAAC,CAE3BJ,MAAM,CAACiB,MAAM,CAAC,IAAI,CAAE,iBAAMR,QAAO,CAACC,GAAG,CAAC,sBAAsB,CAAC,GAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}