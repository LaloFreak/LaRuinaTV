{"ast":null,"code":"/*!\n * express\n * Copyright(c) 2009-2013 TJ Holowaychuk\n * Copyright(c) 2014-2015 Douglas Christopher Wilson\n * MIT Licensed\n */'use strict';/**\n * Module dependencies.\n * @api private\n */var Buffer=require('safe-buffer').Buffer;var contentDisposition=require('content-disposition');var contentType=require('content-type');var deprecate=require('depd')('express');var flatten=require('array-flatten');var mime=require('send').mime;var etag=require('etag');var proxyaddr=require('proxy-addr');var qs=require('qs');var querystring=require('querystring');/**\n * Return strong ETag for `body`.\n *\n * @param {String|Buffer} body\n * @param {String} [encoding]\n * @return {String}\n * @api private\n */exports.etag=createETagGenerator({weak:false});/**\n * Return weak ETag for `body`.\n *\n * @param {String|Buffer} body\n * @param {String} [encoding]\n * @return {String}\n * @api private\n */exports.wetag=createETagGenerator({weak:true});/**\n * Check if `path` looks absolute.\n *\n * @param {String} path\n * @return {Boolean}\n * @api private\n */exports.isAbsolute=function(path){if('/'===path[0])return true;if(':'===path[1]&&('\\\\'===path[2]||'/'===path[2]))return true;// Windows device path\nif('\\\\\\\\'===path.substring(0,2))return true;// Microsoft Azure absolute path\n};/**\n * Flatten the given `arr`.\n *\n * @param {Array} arr\n * @return {Array}\n * @api private\n */exports.flatten=deprecate.function(flatten,'utils.flatten: use array-flatten npm module instead');/**\n * Normalize the given `type`, for example \"html\" becomes \"text/html\".\n *\n * @param {String} type\n * @return {Object}\n * @api private\n */exports.normalizeType=function(type){return~type.indexOf('/')?acceptParams(type):{value:mime.lookup(type),params:{}};};/**\n * Normalize `types`, for example \"html\" becomes \"text/html\".\n *\n * @param {Array} types\n * @return {Array}\n * @api private\n */exports.normalizeTypes=function(types){var ret=[];for(var i=0;i<types.length;++i){ret.push(exports.normalizeType(types[i]));}return ret;};/**\n * Generate Content-Disposition header appropriate for the filename.\n * non-ascii filenames are urlencoded and a filename* parameter is added\n *\n * @param {String} filename\n * @return {String}\n * @api private\n */exports.contentDisposition=deprecate.function(contentDisposition,'utils.contentDisposition: use content-disposition npm module instead');/**\n * Parse accept params `str` returning an\n * object with `.value`, `.quality` and `.params`.\n * also includes `.originalIndex` for stable sorting\n *\n * @param {String} str\n * @param {Number} index\n * @return {Object}\n * @api private\n */function acceptParams(str,index){var parts=str.split(/ *; */);var ret={value:parts[0],quality:1,params:{},originalIndex:index};for(var i=1;i<parts.length;++i){var pms=parts[i].split(/ *= */);if('q'===pms[0]){ret.quality=parseFloat(pms[1]);}else{ret.params[pms[0]]=pms[1];}}return ret;}/**\n * Compile \"etag\" value to function.\n *\n * @param  {Boolean|String|Function} val\n * @return {Function}\n * @api private\n */exports.compileETag=function(val){var fn;if(typeof val==='function'){return val;}switch(val){case true:case'weak':fn=exports.wetag;break;case false:break;case'strong':fn=exports.etag;break;default:throw new TypeError('unknown value for etag function: '+val);}return fn;};/**\n * Compile \"query parser\" value to function.\n *\n * @param  {String|Function} val\n * @return {Function}\n * @api private\n */exports.compileQueryParser=function compileQueryParser(val){var fn;if(typeof val==='function'){return val;}switch(val){case true:case'simple':fn=querystring.parse;break;case false:fn=newObject;break;case'extended':fn=parseExtendedQueryString;break;default:throw new TypeError('unknown value for query parser function: '+val);}return fn;};/**\n * Compile \"proxy trust\" value to function.\n *\n * @param  {Boolean|String|Number|Array|Function} val\n * @return {Function}\n * @api private\n */exports.compileTrust=function(val){if(typeof val==='function')return val;if(val===true){// Support plain true/false\nreturn function(){return true;};}if(typeof val==='number'){// Support trusting hop count\nreturn function(a,i){return i<val;};}if(typeof val==='string'){// Support comma-separated values\nval=val.split(',').map(function(v){return v.trim();});}return proxyaddr.compile(val||[]);};/**\n * Set the charset in a given Content-Type string.\n *\n * @param {String} type\n * @param {String} charset\n * @return {String}\n * @api private\n */exports.setCharset=function setCharset(type,charset){if(!type||!charset){return type;}// parse type\nvar parsed=contentType.parse(type);// set charset\nparsed.parameters.charset=charset;// format type\nreturn contentType.format(parsed);};/**\n * Create an ETag generator function, generating ETags with\n * the given options.\n *\n * @param {object} options\n * @return {function}\n * @private\n */function createETagGenerator(options){return function generateETag(body,encoding){var buf=!Buffer.isBuffer(body)?Buffer.from(body,encoding):body;return etag(buf,options);};}/**\n * Parse an extended query string with qs.\n *\n * @return {Object}\n * @private\n */function parseExtendedQueryString(str){return qs.parse(str,{allowPrototypes:true});}/**\n * Return new empty object.\n *\n * @return {Object}\n * @api private\n */function newObject(){return{};}","map":{"version":3,"names":["Buffer","require","contentDisposition","contentType","deprecate","flatten","mime","etag","proxyaddr","qs","querystring","exports","createETagGenerator","weak","wetag","isAbsolute","path","substring","function","normalizeType","type","indexOf","acceptParams","value","lookup","params","normalizeTypes","types","ret","i","length","push","str","index","parts","split","quality","originalIndex","pms","parseFloat","compileETag","val","fn","TypeError","compileQueryParser","parse","newObject","parseExtendedQueryString","compileTrust","a","map","v","trim","compile","setCharset","charset","parsed","parameters","format","options","generateETag","body","encoding","buf","isBuffer","from","allowPrototypes"],"sources":["C:/Users/Autor/Desktop/LaRuinaTV/api/src/node_modules/express/lib/utils.js"],"sourcesContent":["/*!\n * express\n * Copyright(c) 2009-2013 TJ Holowaychuk\n * Copyright(c) 2014-2015 Douglas Christopher Wilson\n * MIT Licensed\n */\n\n'use strict';\n\n/**\n * Module dependencies.\n * @api private\n */\n\nvar Buffer = require('safe-buffer').Buffer\nvar contentDisposition = require('content-disposition');\nvar contentType = require('content-type');\nvar deprecate = require('depd')('express');\nvar flatten = require('array-flatten');\nvar mime = require('send').mime;\nvar etag = require('etag');\nvar proxyaddr = require('proxy-addr');\nvar qs = require('qs');\nvar querystring = require('querystring');\n\n/**\n * Return strong ETag for `body`.\n *\n * @param {String|Buffer} body\n * @param {String} [encoding]\n * @return {String}\n * @api private\n */\n\nexports.etag = createETagGenerator({ weak: false })\n\n/**\n * Return weak ETag for `body`.\n *\n * @param {String|Buffer} body\n * @param {String} [encoding]\n * @return {String}\n * @api private\n */\n\nexports.wetag = createETagGenerator({ weak: true })\n\n/**\n * Check if `path` looks absolute.\n *\n * @param {String} path\n * @return {Boolean}\n * @api private\n */\n\nexports.isAbsolute = function(path){\n  if ('/' === path[0]) return true;\n  if (':' === path[1] && ('\\\\' === path[2] || '/' === path[2])) return true; // Windows device path\n  if ('\\\\\\\\' === path.substring(0, 2)) return true; // Microsoft Azure absolute path\n};\n\n/**\n * Flatten the given `arr`.\n *\n * @param {Array} arr\n * @return {Array}\n * @api private\n */\n\nexports.flatten = deprecate.function(flatten,\n  'utils.flatten: use array-flatten npm module instead');\n\n/**\n * Normalize the given `type`, for example \"html\" becomes \"text/html\".\n *\n * @param {String} type\n * @return {Object}\n * @api private\n */\n\nexports.normalizeType = function(type){\n  return ~type.indexOf('/')\n    ? acceptParams(type)\n    : { value: mime.lookup(type), params: {} };\n};\n\n/**\n * Normalize `types`, for example \"html\" becomes \"text/html\".\n *\n * @param {Array} types\n * @return {Array}\n * @api private\n */\n\nexports.normalizeTypes = function(types){\n  var ret = [];\n\n  for (var i = 0; i < types.length; ++i) {\n    ret.push(exports.normalizeType(types[i]));\n  }\n\n  return ret;\n};\n\n/**\n * Generate Content-Disposition header appropriate for the filename.\n * non-ascii filenames are urlencoded and a filename* parameter is added\n *\n * @param {String} filename\n * @return {String}\n * @api private\n */\n\nexports.contentDisposition = deprecate.function(contentDisposition,\n  'utils.contentDisposition: use content-disposition npm module instead');\n\n/**\n * Parse accept params `str` returning an\n * object with `.value`, `.quality` and `.params`.\n * also includes `.originalIndex` for stable sorting\n *\n * @param {String} str\n * @param {Number} index\n * @return {Object}\n * @api private\n */\n\nfunction acceptParams(str, index) {\n  var parts = str.split(/ *; */);\n  var ret = { value: parts[0], quality: 1, params: {}, originalIndex: index };\n\n  for (var i = 1; i < parts.length; ++i) {\n    var pms = parts[i].split(/ *= */);\n    if ('q' === pms[0]) {\n      ret.quality = parseFloat(pms[1]);\n    } else {\n      ret.params[pms[0]] = pms[1];\n    }\n  }\n\n  return ret;\n}\n\n/**\n * Compile \"etag\" value to function.\n *\n * @param  {Boolean|String|Function} val\n * @return {Function}\n * @api private\n */\n\nexports.compileETag = function(val) {\n  var fn;\n\n  if (typeof val === 'function') {\n    return val;\n  }\n\n  switch (val) {\n    case true:\n    case 'weak':\n      fn = exports.wetag;\n      break;\n    case false:\n      break;\n    case 'strong':\n      fn = exports.etag;\n      break;\n    default:\n      throw new TypeError('unknown value for etag function: ' + val);\n  }\n\n  return fn;\n}\n\n/**\n * Compile \"query parser\" value to function.\n *\n * @param  {String|Function} val\n * @return {Function}\n * @api private\n */\n\nexports.compileQueryParser = function compileQueryParser(val) {\n  var fn;\n\n  if (typeof val === 'function') {\n    return val;\n  }\n\n  switch (val) {\n    case true:\n    case 'simple':\n      fn = querystring.parse;\n      break;\n    case false:\n      fn = newObject;\n      break;\n    case 'extended':\n      fn = parseExtendedQueryString;\n      break;\n    default:\n      throw new TypeError('unknown value for query parser function: ' + val);\n  }\n\n  return fn;\n}\n\n/**\n * Compile \"proxy trust\" value to function.\n *\n * @param  {Boolean|String|Number|Array|Function} val\n * @return {Function}\n * @api private\n */\n\nexports.compileTrust = function(val) {\n  if (typeof val === 'function') return val;\n\n  if (val === true) {\n    // Support plain true/false\n    return function(){ return true };\n  }\n\n  if (typeof val === 'number') {\n    // Support trusting hop count\n    return function(a, i){ return i < val };\n  }\n\n  if (typeof val === 'string') {\n    // Support comma-separated values\n    val = val.split(',')\n      .map(function (v) { return v.trim() })\n  }\n\n  return proxyaddr.compile(val || []);\n}\n\n/**\n * Set the charset in a given Content-Type string.\n *\n * @param {String} type\n * @param {String} charset\n * @return {String}\n * @api private\n */\n\nexports.setCharset = function setCharset(type, charset) {\n  if (!type || !charset) {\n    return type;\n  }\n\n  // parse type\n  var parsed = contentType.parse(type);\n\n  // set charset\n  parsed.parameters.charset = charset;\n\n  // format type\n  return contentType.format(parsed);\n};\n\n/**\n * Create an ETag generator function, generating ETags with\n * the given options.\n *\n * @param {object} options\n * @return {function}\n * @private\n */\n\nfunction createETagGenerator (options) {\n  return function generateETag (body, encoding) {\n    var buf = !Buffer.isBuffer(body)\n      ? Buffer.from(body, encoding)\n      : body\n\n    return etag(buf, options)\n  }\n}\n\n/**\n * Parse an extended query string with qs.\n *\n * @return {Object}\n * @private\n */\n\nfunction parseExtendedQueryString(str) {\n  return qs.parse(str, {\n    allowPrototypes: true\n  });\n}\n\n/**\n * Return new empty object.\n *\n * @return {Object}\n * @api private\n */\n\nfunction newObject() {\n  return {};\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}