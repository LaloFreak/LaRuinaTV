{"ast":null,"code":"/*!\n * express\n * Copyright(c) 2009-2013 TJ Holowaychuk\n * Copyright(c) 2013 Roman Shtylman\n * Copyright(c) 2014-2015 Douglas Christopher Wilson\n * MIT Licensed\n */'use strict';/**\n * Module dependencies.\n * @private\n */var pathRegexp=require('path-to-regexp');var debug=require('debug')('express:router:layer');/**\n * Module variables.\n * @private\n */var hasOwnProperty=Object.prototype.hasOwnProperty;/**\n * Module exports.\n * @public\n */module.exports=Layer;function Layer(path,options,fn){if(!(this instanceof Layer)){return new Layer(path,options,fn);}debug('new %o',path);var opts=options||{};this.handle=fn;this.name=fn.name||'<anonymous>';this.params=undefined;this.path=undefined;this.regexp=pathRegexp(path,this.keys=[],opts);// set fast path flags\nthis.regexp.fast_star=path==='*';this.regexp.fast_slash=path==='/'&&opts.end===false;}/**\n * Handle the error for the layer.\n *\n * @param {Error} error\n * @param {Request} req\n * @param {Response} res\n * @param {function} next\n * @api private\n */Layer.prototype.handle_error=function handle_error(error,req,res,next){var fn=this.handle;if(fn.length!==4){// not a standard error handler\nreturn next(error);}try{fn(error,req,res,next);}catch(err){next(err);}};/**\n * Handle the request for the layer.\n *\n * @param {Request} req\n * @param {Response} res\n * @param {function} next\n * @api private\n */Layer.prototype.handle_request=function handle(req,res,next){var fn=this.handle;if(fn.length>3){// not a standard request handler\nreturn next();}try{fn(req,res,next);}catch(err){next(err);}};/**\n * Check if this route matches `path`, if so\n * populate `.params`.\n *\n * @param {String} path\n * @return {Boolean}\n * @api private\n */Layer.prototype.match=function match(path){var match;if(path!=null){// fast path non-ending match for / (any path matches)\nif(this.regexp.fast_slash){this.params={};this.path='';return true;}// fast path for * (everything matched in a param)\nif(this.regexp.fast_star){this.params={'0':decode_param(path)};this.path=path;return true;}// match the path\nmatch=this.regexp.exec(path);}if(!match){this.params=undefined;this.path=undefined;return false;}// store values\nthis.params={};this.path=match[0];var keys=this.keys;var params=this.params;for(var i=1;i<match.length;i++){var key=keys[i-1];var prop=key.name;var val=decode_param(match[i]);if(val!==undefined||!hasOwnProperty.call(params,prop)){params[prop]=val;}}return true;};/**\n * Decode param value.\n *\n * @param {string} val\n * @return {string}\n * @private\n */function decode_param(val){if(typeof val!=='string'||val.length===0){return val;}try{return decodeURIComponent(val);}catch(err){if(err instanceof URIError){err.message='Failed to decode param \\''+val+'\\'';err.status=err.statusCode=400;}throw err;}}","map":{"version":3,"names":["pathRegexp","require","debug","hasOwnProperty","Object","prototype","module","exports","Layer","path","options","fn","opts","handle","name","params","undefined","regexp","keys","fast_star","fast_slash","end","handle_error","error","req","res","next","length","err","handle_request","match","decode_param","exec","i","key","prop","val","call","decodeURIComponent","URIError","message","status","statusCode"],"sources":["C:/Users/Autor/Desktop/LaRuinaTV/api/src/node_modules/express/lib/router/layer.js"],"sourcesContent":["/*!\n * express\n * Copyright(c) 2009-2013 TJ Holowaychuk\n * Copyright(c) 2013 Roman Shtylman\n * Copyright(c) 2014-2015 Douglas Christopher Wilson\n * MIT Licensed\n */\n\n'use strict';\n\n/**\n * Module dependencies.\n * @private\n */\n\nvar pathRegexp = require('path-to-regexp');\nvar debug = require('debug')('express:router:layer');\n\n/**\n * Module variables.\n * @private\n */\n\nvar hasOwnProperty = Object.prototype.hasOwnProperty;\n\n/**\n * Module exports.\n * @public\n */\n\nmodule.exports = Layer;\n\nfunction Layer(path, options, fn) {\n  if (!(this instanceof Layer)) {\n    return new Layer(path, options, fn);\n  }\n\n  debug('new %o', path)\n  var opts = options || {};\n\n  this.handle = fn;\n  this.name = fn.name || '<anonymous>';\n  this.params = undefined;\n  this.path = undefined;\n  this.regexp = pathRegexp(path, this.keys = [], opts);\n\n  // set fast path flags\n  this.regexp.fast_star = path === '*'\n  this.regexp.fast_slash = path === '/' && opts.end === false\n}\n\n/**\n * Handle the error for the layer.\n *\n * @param {Error} error\n * @param {Request} req\n * @param {Response} res\n * @param {function} next\n * @api private\n */\n\nLayer.prototype.handle_error = function handle_error(error, req, res, next) {\n  var fn = this.handle;\n\n  if (fn.length !== 4) {\n    // not a standard error handler\n    return next(error);\n  }\n\n  try {\n    fn(error, req, res, next);\n  } catch (err) {\n    next(err);\n  }\n};\n\n/**\n * Handle the request for the layer.\n *\n * @param {Request} req\n * @param {Response} res\n * @param {function} next\n * @api private\n */\n\nLayer.prototype.handle_request = function handle(req, res, next) {\n  var fn = this.handle;\n\n  if (fn.length > 3) {\n    // not a standard request handler\n    return next();\n  }\n\n  try {\n    fn(req, res, next);\n  } catch (err) {\n    next(err);\n  }\n};\n\n/**\n * Check if this route matches `path`, if so\n * populate `.params`.\n *\n * @param {String} path\n * @return {Boolean}\n * @api private\n */\n\nLayer.prototype.match = function match(path) {\n  var match\n\n  if (path != null) {\n    // fast path non-ending match for / (any path matches)\n    if (this.regexp.fast_slash) {\n      this.params = {}\n      this.path = ''\n      return true\n    }\n\n    // fast path for * (everything matched in a param)\n    if (this.regexp.fast_star) {\n      this.params = {'0': decode_param(path)}\n      this.path = path\n      return true\n    }\n\n    // match the path\n    match = this.regexp.exec(path)\n  }\n\n  if (!match) {\n    this.params = undefined;\n    this.path = undefined;\n    return false;\n  }\n\n  // store values\n  this.params = {};\n  this.path = match[0]\n\n  var keys = this.keys;\n  var params = this.params;\n\n  for (var i = 1; i < match.length; i++) {\n    var key = keys[i - 1];\n    var prop = key.name;\n    var val = decode_param(match[i])\n\n    if (val !== undefined || !(hasOwnProperty.call(params, prop))) {\n      params[prop] = val;\n    }\n  }\n\n  return true;\n};\n\n/**\n * Decode param value.\n *\n * @param {string} val\n * @return {string}\n * @private\n */\n\nfunction decode_param(val) {\n  if (typeof val !== 'string' || val.length === 0) {\n    return val;\n  }\n\n  try {\n    return decodeURIComponent(val);\n  } catch (err) {\n    if (err instanceof URIError) {\n      err.message = 'Failed to decode param \\'' + val + '\\'';\n      err.status = err.statusCode = 400;\n    }\n\n    throw err;\n  }\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}