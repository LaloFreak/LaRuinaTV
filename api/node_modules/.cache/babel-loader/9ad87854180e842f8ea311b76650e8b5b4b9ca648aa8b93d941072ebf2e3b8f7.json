{"ast":null,"code":"var express=require('express');var morgan=require('morgan');var server=express();var terminalKiller=require('./Routes/server/terminalkiller.js');var users=require('./Routes/server/users.js');var posts=require('./Routes/apps/posts.js');var webpack=require('webpack.main.config.js');server.use(function(req,res,next){webpack({resolve:{fallback:{'path':require.resolve('path-browserify')},extensions:['.jsx','.js','.tsx','.ts']}});console.log(req.headers.origin);// const corsList = [\n//     'http://localhost:3000',\n//     'http://localhost:3001',\n//     'http://localhost:3002',\n//     'http://192.168.100.16:3000'\n// ];\nvar corsList=['https://tv.laruinarecords.cl','https://laruinarecords.cl'];if(corsList.includes(req.headers.origin)){res.header('Access-Control-Allow-Origin',req.headers.origin);res.header('Access-Control-Allow-Credentials','true');res.header('Access-Control-Allow-Headers','Origin, X-Requested, Content-Type, Accept');res.header('Access-Control-Allow-Methods','GET, POST, OPTIONS, PUT, DELETE');next();}// else{\n//     res.header('Access-Control-Allow-Origin', ('*'));\n//     res.header('Access-Control-Allow-Credentials', 'true');\n//     res.header('Access-Control-Allow-Headers', 'Origin, X-Requested, Content-Type, Accept');\n//     res.header('Access-Control-Allow-Methods', 'GET, POST, OPTIONS, PUT, DELETE');\n//     next();\n// }\n});server.use(morgan('dev'));server.use(express.json());server.use('/terminalkiller',terminalKiller);server.use('/users',users);server.use('/posts',posts);server.listen('https://server.terminalkiller.site',function(){return console.log('https://server.terminalkiller.site');});// server.listen(3001, () => console.log('running on port 3001'))","map":{"version":3,"names":["express","require","morgan","server","terminalKiller","users","posts","webpack","use","req","res","next","resolve","fallback","extensions","console","log","headers","origin","corsList","includes","header","json","listen"],"sources":["C:/Users/Autor/Desktop/LaRuinaTV/api/src/index.js"],"sourcesContent":["const express = require('express')\r\nconst morgan = require('morgan')\r\nconst server = express()\r\nconst terminalKiller = require('./Routes/server/terminalkiller.js')\r\nconst users = require('./Routes/server/users.js')\r\nconst posts = require('./Routes/apps/posts.js')\r\nconst webpack = require('webpack.main.config.js')\r\n\r\n\r\nserver.use((req, res, next)=>{\r\n    webpack(\r\n        {resolve: {\r\n            fallback: { 'path': require.resolve('path-browserify') },\r\n            extensions: ['.jsx', '.js', '.tsx', '.ts'],\r\n         }}\r\n    )\r\n    console.log(req.headers.origin)\r\n    // const corsList = [\r\n    //     'http://localhost:3000',\r\n    //     'http://localhost:3001',\r\n    //     'http://localhost:3002',\r\n    //     'http://192.168.100.16:3000'\r\n    // ];\r\n    const corsList = [\r\n        'https://tv.laruinarecords.cl',\r\n        'https://laruinarecords.cl'\r\n    ];\r\n\r\n    if(corsList.includes(req.headers.origin)){   \r\n        res.header('Access-Control-Allow-Origin', (req.headers.origin));\r\n        res.header('Access-Control-Allow-Credentials', 'true');\r\n        res.header('Access-Control-Allow-Headers', 'Origin, X-Requested, Content-Type, Accept');\r\n        res.header('Access-Control-Allow-Methods', 'GET, POST, OPTIONS, PUT, DELETE');\r\n        next();\r\n    }\r\n    // else{\r\n    //     res.header('Access-Control-Allow-Origin', ('*'));\r\n    //     res.header('Access-Control-Allow-Credentials', 'true');\r\n    //     res.header('Access-Control-Allow-Headers', 'Origin, X-Requested, Content-Type, Accept');\r\n    //     res.header('Access-Control-Allow-Methods', 'GET, POST, OPTIONS, PUT, DELETE');\r\n    //     next();\r\n    // }\r\n});\r\n\r\nserver.use(morgan('dev'))\r\nserver.use(express.json())\r\nserver.use('/terminalkiller', terminalKiller)\r\nserver.use('/users', users)\r\nserver.use('/posts', posts)\r\nserver.listen('https://server.terminalkiller.site', () => console.log('https://server.terminalkiller.site'))\r\n// server.listen(3001, () => console.log('running on port 3001'))"],"mappings":"AAAA,GAAMA,QAAO,CAAGC,OAAO,CAAC,SAAS,CAAC,CAClC,GAAMC,OAAM,CAAGD,OAAO,CAAC,QAAQ,CAAC,CAChC,GAAME,OAAM,CAAGH,OAAO,EAAE,CACxB,GAAMI,eAAc,CAAGH,OAAO,CAAC,mCAAmC,CAAC,CACnE,GAAMI,MAAK,CAAGJ,OAAO,CAAC,0BAA0B,CAAC,CACjD,GAAMK,MAAK,CAAGL,OAAO,CAAC,wBAAwB,CAAC,CAC/C,GAAMM,QAAO,CAAGN,OAAO,CAAC,wBAAwB,CAAC,CAGjDE,MAAM,CAACK,GAAG,CAAC,SAACC,GAAG,CAAEC,GAAG,CAAEC,IAAI,CAAG,CACzBJ,OAAO,CACH,CAACK,OAAO,CAAE,CACNC,QAAQ,CAAE,CAAE,MAAM,CAAEZ,OAAO,CAACW,OAAO,CAAC,iBAAiB,CAAE,CAAC,CACxDE,UAAU,CAAE,CAAC,MAAM,CAAE,KAAK,CAAE,MAAM,CAAE,KAAK,CAC5C,CAAC,CAAC,CACN,CACDC,OAAO,CAACC,GAAG,CAACP,GAAG,CAACQ,OAAO,CAACC,MAAM,CAAC,CAC/B;AACA;AACA;AACA;AACA;AACA;AACA,GAAMC,SAAQ,CAAG,CACb,8BAA8B,CAC9B,2BAA2B,CAC9B,CAED,GAAGA,QAAQ,CAACC,QAAQ,CAACX,GAAG,CAACQ,OAAO,CAACC,MAAM,CAAC,CAAC,CACrCR,GAAG,CAACW,MAAM,CAAC,6BAA6B,CAAGZ,GAAG,CAACQ,OAAO,CAACC,MAAM,CAAE,CAC/DR,GAAG,CAACW,MAAM,CAAC,kCAAkC,CAAE,MAAM,CAAC,CACtDX,GAAG,CAACW,MAAM,CAAC,8BAA8B,CAAE,2CAA2C,CAAC,CACvFX,GAAG,CAACW,MAAM,CAAC,8BAA8B,CAAE,iCAAiC,CAAC,CAC7EV,IAAI,EAAE,CACV,CACA;AACA;AACA;AACA;AACA;AACA;AACA;AACJ,CAAC,CAAC,CAEFR,MAAM,CAACK,GAAG,CAACN,MAAM,CAAC,KAAK,CAAC,CAAC,CACzBC,MAAM,CAACK,GAAG,CAACR,OAAO,CAACsB,IAAI,EAAE,CAAC,CAC1BnB,MAAM,CAACK,GAAG,CAAC,iBAAiB,CAAEJ,cAAc,CAAC,CAC7CD,MAAM,CAACK,GAAG,CAAC,QAAQ,CAAEH,KAAK,CAAC,CAC3BF,MAAM,CAACK,GAAG,CAAC,QAAQ,CAAEF,KAAK,CAAC,CAC3BH,MAAM,CAACoB,MAAM,CAAC,oCAAoC,CAAE,iBAAMR,QAAO,CAACC,GAAG,CAAC,oCAAoC,CAAC,GAAC,CAC5G"},"metadata":{},"sourceType":"module","externalDependencies":[]}